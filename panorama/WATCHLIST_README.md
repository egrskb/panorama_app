# WatchlistView - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á Watchlist

## –û–ø–∏—Å–∞–Ω–∏–µ

`WatchlistView` - —ç—Ç–æ –≤–∏–¥–∂–µ—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏ watchlist –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –û–Ω –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏, –∏—Ö —Å—Ç–∞—Ç—É—Å –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑–º–µ—Ä–µ–Ω–∏–π.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üìä –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞—á
- **–¢–∞–±–ª–∏—Ü–∞ –∑–∞–¥–∞—á** —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: ID, –ß–∞—Å—Ç–æ—Ç–∞, Span, Dwell, –°—Ç–∞—Ç—É—Å, –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è, –í—Ä–µ–º—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è, –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ—Ä–µ–Ω–∏–π
- **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞**:
  - üü† PENDING - –æ–∂–∏–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  - üîµ RUNNING - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
  - üü¢ COMPLETED - –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
  - üî¥ FAILED - –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —Å –æ—à–∏–±–∫–æ–π
  - ‚ö´ CANCELLED - –æ—Ç–º–µ–Ω–µ–Ω–∞

### üîç –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- **–ü–æ —Å—Ç–∞—Ç—É—Å—É**: –í—Å–µ, PENDING, RUNNING, COMPLETED, FAILED, CANCELLED
- **–ü–æ —á–∞—Å—Ç–æ—Ç–µ**: —Ñ–∏–ª—å—Ç—Ä —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é ¬±1 –ú–ì—Ü

### üìã –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–ü–∞–Ω–µ–ª—å –¥–µ—Ç–∞–ª–µ–π** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–µ:
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∏–∫–∞ (—á–∞—Å—Ç–æ—Ç–∞, SNR, –º–æ—â–Ω–æ—Å—Ç—å)
  - –û–∫–Ω–æ –∏–∑–º–µ—Ä–µ–Ω–∏—è (—Ü–µ–Ω—Ç—Ä, span, dwell, epoch)
  - –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
  - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑–º–µ—Ä–µ–Ω–∏–π –æ—Ç slave —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### ‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
- **–û—Ç–º–µ–Ω–∞ –∑–∞–¥–∞—á–∏**: –¥–ª—è –∑–∞–¥–∞—á –≤ —Å—Ç–∞—Ç—É—Å–µ PENDING –∏–ª–∏ RUNNING
- **–ü–æ–≤—Ç–æ—Ä –∑–∞–¥–∞—á–∏**: –¥–ª—è –∑–∞–¥–∞—á –≤ —Å—Ç–∞—Ç—É—Å–µ FAILED –∏–ª–∏ CANCELLED
- **–û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö**: —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –∏–∑ –ø–∞–º—è—Ç–∏

### üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- **–°—á–µ—Ç—á–∏–∫–∏**: –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á, –æ–∂–∏–¥–∞—é—â–∏–µ, –∞–∫—Ç–∏–≤–Ω—ã–µ, –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ, –Ω–µ—É–¥–∞—á–Ω—ã–µ
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –í –≥–ª–∞–≤–Ω–æ–º –æ–∫–Ω–µ
WatchlistView –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ "Watchlist".

### –° –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ —Å–∏–≥–Ω–∞–ª–∞–º –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞: `task_created`, `task_completed`, `task_failed`
- –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –∑–∞–¥–∞—á–∞—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–∏–≥–Ω–∞–ª—ã: `task_cancelled`, `task_retried`

### –°–∏–≥–Ω–∞–ª—ã
```python
# –í—Ö–æ–¥—è—â–∏–µ —Å–∏–≥–Ω–∞–ª—ã (–æ—Ç –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
orchestrator.task_created.connect(self._on_task_created)
orchestrator.task_completed.connect(self._on_task_completed)
orchestrator.task_failed.connect(self._on_task_failed)

# –ò—Å—Ö–æ–¥—è—â–∏–µ —Å–∏–≥–Ω–∞–ª—ã (–∫ –≥–ª–∞–≤–Ω–æ–º—É –æ–∫–Ω—É)
self.task_cancelled.emit(task_id)
self.task_retried.emit(task_id)
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
panorama/features/watchlist/
‚îú‚îÄ‚îÄ __init__.py          # –≠–∫—Å–ø–æ—Ä—Ç WatchlistView
‚îî‚îÄ‚îÄ view.py              # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –≤–∏–¥–∂–µ—Ç–∞
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞
```python
from panorama.features.watchlist import WatchlistView

# –°–æ–∑–¥–∞–Ω–∏–µ —Å –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
watchlist_view = WatchlistView(orchestrator=orchestrator)

# –ò–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–∑–∂–µ
watchlist_view.set_orchestrator(orchestrator)
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ UI
```python
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏
tab_widget.addTab(watchlist_view, "Watchlist")

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤
watchlist_view.task_cancelled.connect(self._on_task_cancelled)
watchlist_view.task_retried.connect(self._on_task_retried)
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
1. **–¢–∞–±–ª–∏—Ü–∞ –∑–∞–¥–∞—á** (`QTableWidget`) - –æ—Å–Ω–æ–≤–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
2. **–ü–∞–Ω–µ–ª—å –¥–µ—Ç–∞–ª–µ–π** (`QTextEdit`) - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
3. **–§–∏–ª—å—Ç—Ä—ã** - –∫–æ–º–±–æ–±–æ–∫—Å—ã –∏ —Å–ø–∏–Ω–±–æ–∫—Å—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
4. **–ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è** - –æ—Ç–º–µ–Ω–∞, –ø–æ–≤—Ç–æ—Ä, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
5. **–¢–∞–π–º–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**: –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á –∏–∑ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ —á–∞—Å—Ç–æ—Ç–µ
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI**: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã –∏ –¥–µ—Ç–∞–ª–µ–π
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ —á–µ—Ä–µ–∑ —Å–∏–≥–Ω–∞–ª—ã

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```python
# –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1000 –º—Å)
self.update_timer.start(1000)

# –†–∞–∑–º–µ—Ä—ã —Å–ø–ª–∏—Ç—Ç–µ—Ä–∞
splitter.setSizes([400, 200])  # [—Ç–∞–±–ª–∏—Ü–∞, –¥–µ—Ç–∞–ª–∏]
```

### –§–∏–ª—å—Ç—Ä—ã
```python
# –°—Ç–∞—Ç—É—Å—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
self.status_filter.addItems(["–í—Å–µ", "PENDING", "RUNNING", "COMPLETED", "FAILED", "CANCELLED"])

# –î–∏–∞–ø–∞–∑–æ–Ω —á–∞—Å—Ç–æ—Ç (0 = –≤—Å–µ —á–∞—Å—Ç–æ—Ç—ã)
self.freq_filter.setRange(0, 10000)  # 0-10 –ì–ì—Ü
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —á–∞—Å—Ç–æ—Ç—ã
```python
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ —á–∞—Å—Ç–æ—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2.4 –ì–ì—Ü)
watchlist_view.freq_filter.setValue(2400)
```

### –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
```python
# –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
watchlist_view._clear_completed()
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏
```python
# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–±–æ—Ä–∞
def on_task_selected(task):
    print(f"–í—ã–±—Ä–∞–Ω–∞ –∑–∞–¥–∞—á–∞: {task.id} –Ω–∞ —á–∞—Å—Ç–æ—Ç–µ {task.peak.f_peak/1e6:.3f} –ú–ì—Ü")

watchlist_view.task_selected.connect(on_task_selected)
```

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- **PyQt5**: –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º
- **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä**: —Ç—Ä–µ–±—É–µ—Ç –≤–µ—Ä—Å–∏—é —Å –º–µ—Ç–æ–¥–æ–º `get_active_tasks()`
- **–ì–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ**: –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ –≤–∫–ª–∞–¥–∫–∞

## –°—Ç–∞—Ç—É—Å

**–ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é** ‚úÖ - –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω

## –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ CSV/JSON
- [ ] –ì—Ä–∞—Ñ–∏–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤–∞–∂–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤—ã—Ö —Å—Ö–µ–º
- [ ] –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∑–∞–¥–∞—á –ø–æ —Ç–∏–ø–∞–º
